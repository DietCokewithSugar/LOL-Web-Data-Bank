/**
 * ping.js
 *
 * @version 0.1.663
 * @date 2017-06-07
 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=b.exports={window:window,deepOverride:function(a,b,c){var e={};void 0===c&&(c=1/0);for(var f in a)if(a.hasOwnProperty(f)){var g=null!==a[f],h="object"==typeof a[f];h=h&&!d.isArray(a[f]),void 0===b?e[f]=a[f]:c>0&&g&&h?e[f]=d.deepOverride(a[f],b[f],c-1):b.hasOwnProperty(f)?void 0!==b[f]&&(e[f]=b[f]):e[f]=a[f]}return e},isArray:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},isEmptyObject:function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return null!==a},map:function(a,b){if(null!==a)if(Object.keys)for(var c=Object.keys(a),d=c.length,e=0;d>e;e++){var f=c[e];b(f,a[f])}else for(var g in a)a.hasOwnProperty(g)&&b(g,a[g])},nextTick:function(a){setTimeout(a,0)},appendStyles:function(a){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");if(c.type="text/css",b.appendChild(c),c.styleSheet){c.styleSheet.cssText=a;try{c.innerHTML=a}catch(d){}}else c.appendChild(document.createTextNode(a))},appendScript:function(a){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.src=a,b.appendChild(c)},ensureScript:function(a,b){var c=b.interval?b.interval:10,e=!1,f=!1,g=function(){for(var h=!0,i=a.split("."),j=window,k=0;h&&k<i.length;k++)h=j.hasOwnProperty?j.hasOwnProperty(i[k]):j[i[k]]?!0:!1,j=j[i[k]];h?(e=!0,f&&f.call()):(b.url&&(d.appendScript(b.url),delete b.url),setTimeout(g,c))};return g(),{then:function(a){e?a.call():f=a}}},hasClass:function(a,b){var c=" "+a.className+" ",d=" "+b+" ";return c.indexOf(d)>-1},toggleClass:function(a,b,c){var e="boolean"==typeof c?!c:d.hasClass(a,b);e?d.removeClass(a,b):d.addClass(a,b)},addClass:function(a,b){var c=a.className.split(/\s+/);-1===c.indexOf(b)&&(c.splice(c.length,0,b),a.className=c.join(" "))},removeClass:function(a,b){for(var c=a.className.split(/\s+/),d=c.length;d>=0;d--)c[d]===b&&(c.splice(d,1),a.className=c.join(" "))},getCurrentDomain:function(a){var b=d.window.location.hostname,c=/([a-z]+\.[a-z]{2,4}(\.[a-z]{2,4})?)$/i,e=b.match(c);return null!==e?e[1]:a},createCORSRequest:function(a,b){var c=new XMLHttpRequest;return"withCredentials"in c?c.open(a,b,!0):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(a,b)):c=null,c},addEvent:function(a,b,c){a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](d.window.event)},a.attachEvent("on"+b,a[b+c])):a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?(a.detachEvent("on"+b,a[b+c]),a[b+c]=null):a.removeEventListener(b,c,!1)},setCookie:function(a,b,c){a=encodeURIComponent(a),b=encodeURIComponent(b);var d=a+"="+b+";";c=c||{},c.expires&&(d=d+"expires="+c.expires+";"),c.path&&(d=d+"path="+c.path+";"),c.domain&&"localhost"!=c.domain&&(d=d+"domain="+c.domain+";"),c.secure&&(d+="secure;"),document.cookie=d},getCookie:function(a){a=encodeURIComponent(a);var b=new RegExp(a+"=([^;]*)"),c=b.exec(document.cookie);return c?decodeURIComponent(c[1]):!1},delCookie:function(a){d.setCookie(a,"",{expires:"Thu, 01 Jan 1970 00:00:01 GMT"})}}},{}],2:[function(a,b,c){var d=a("Riotbar/src/common-util");a("./ping.riotbar.js")(window,document,navigator,d)},{"./ping.riotbar.js":3,"Riotbar/src/common-util":1}],3:[function(a,b,c){!function(a){"use strict";"undefined"!=typeof b&&"undefined"!=typeof b.exports?b.exports=a:a(window,document,navigator,window.RiotBar.util)}(function(a,b,c,d){"use strict";function e(b){a.ga=a.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,a.ga(function(a){b["app.session.ga_id"]=a.get("clientId")})}if("undefined"==typeof a.ping){if("undefined"==typeof d)throw new Error("No utils were provided.");Date.now||(Date.now=function(){return(new Date).getTime()}),a.JSON||(a.JSON={stringify:function(a){if(a instanceof Object){var b="";if(a.constructor===Array){for(var c=0;c<a.length;b+=this.stringify(a[c])+",",c++);return"["+b.substr(0,b.length-1)+"]"}if(a.toString!==Object.prototype.toString)return'"'+a.toString().replace(/"/g,"\\$&")+'"';for(var d in a)b+='"'+d.replace(/"/g,"\\$&")+'":'+this.stringify(a[d])+",";return"{"+b.substr(0,b.length-1)+"}"}return"string"==typeof a?'"'+a.replace(/"/g,"\\$&")+'"':String(a)}});var f=Date.now(),g=0,h=!0,i={na:"NA1",euw:"EUW1",br:"BR1",eune:"EUN1",lan:"LA1",las:"LA2",tr:"TR1",oce:"OC1",ru:"RU",kr:"KR",jp:"JP1",pbe:"PBE1",main1:"MAIN1"},j=[{characterRegex:/&/g,temporal:"__1__",temporalRegex:/__1__/g,escaped:"\\u0026"},{characterRegex:/;/g,temporal:"__2__",temporalRegex:/__2__/g,escaped:"\\u003B"},{characterRegex:/%/g,temporal:"__3__",temporalRegex:/__3__/g,escaped:"\\u0025"}];"undefined"==typeof a.pCfg&&(a.pCfg={});var k=function(){var a=d.getCookie("notice_preferences");return a?(a=a.split(":")[0],a>1):!0};h=a.RiotCookieBar&&a.RiotCookieBar.hasCPA?a.RiotCookieBar.hasCPA():k(),!h&&console&&console.warn&&console.warn("Ping.js request disabled due to user cookie preferences.");var l=function(a){for(var b,c,d={},e=[],f={},g=a;g&&"HTML"!==g.tagName;g=g.parentNode){b=n(g),e.unshift(b),c=o(g);for(var h in c)"undefined"==typeof f[h]&&(f[h]=c[h])}return d.domSelector=e.join(" "),d.metadata=f,d},m=function(a){return l(a.target||a.srcElement)},n=function(a){var b=a.id||"",c=a.getAttribute("class")||"",d=a.tagName.toLowerCase(),e=/^\s+|\s+$/g;return b=b.replace(e,""),""!==b&&(d+="#"+b),c=c.replace(e,""),""!==c&&(d+="."+c.replace(/\s+/g,".")),d},o=function(a){var b,c,d,e,f,g={},h=a.getAttribute("href"),i=a.getAttribute("data-ping-meta");if(null!==h&&(g["meta.href"]=h,g["meta.link_uri"]=h.split("#")[0],g["meta.link_fragment"]=h.split("#")[1]||""),null===i)return g;b=i.split("|");for(var j=0;j<b.length;j++)c=b[j],d=c.split("="),e=d[0],f=d.slice(1).join("="),"undefined"==typeof g[e]&&(g["meta."+e]=f);return g},p=function(){if(!h)return{};var a=s(),b=q(),c=v([{},a,b]);return c=t(c)},q=function(){var a={},b={region:"PVPNET_REGION",locale:"PVPNET_LANG",accountId:"PVPNET_ID_{region}"},c=pCfg.account;if("undefined"!=typeof c){for(var e in c)c.hasOwnProperty(e)&&"undefined"!=typeof b[e]&&(a[e]=c[e]);return a}var f=d.getCookie(b.region);if(f){var g=b.accountId.replace("{region}",f.toUpperCase()),h=d.getCookie(g);if(!h)return a;a.region=f,a.locale=d.getCookie(b.locale),a.accountId=h}return a},r=function(a){return"undefined"==typeof a||"undefined"==typeof i[a]?"unknown":i[a]},s=function(){var a={},b="ping_session_id",c=d.getCookie(b);if(!c){var e="leagueoflegends.com",f=d.getCurrentDomain(e);c=u(),d.setCookie(b,c,{domain:f,path:"/"})}return a.sessionId=c,a},t=function(a){var b={region:"app.region",locale:"app.locale",accountId:"account.id",sessionId:"app.session.id"},c={};for(var d in a)a.hasOwnProperty(d)&&"undefined"!=typeof b[d]&&(c[b[d]]=a[d]);return c},u=function(){var a=Date.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",c=b.replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0,d=c;return"x"!==b&&(d=3&c|8),a=Math.floor(a/16),d.toString(16)});return c},v=function(a){for(var b=a[0]||{},c=a.slice(1),d=0;d<c.length;d++){var e=c[d];for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b},w=function(a,b,c,d){"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):(d!==!0&&(d=!1),a.addEventListener(b,c,d))},x=function(){var b=p(),c=b["app.region"],d=r(c);this.defaultParams={messageType:pCfg.messageType||"web_ping",env:pCfg.env||d||"unknown",host:a.location.hostname,appname:pCfg.appname||a.location.hostname},v([this.defaultParams,b]),e(this.defaultParams);var f=pCfg.meta;for(var g in f)f.hasOwnProperty(g)&&(this.defaultParams["meta."+g]=f[g]);this.dradisEndpoint=pCfg.endpoint||"https://ekg.riotgames.com/m.gif"};x.prototype.clickHandler=function(b){a.ping("click",{},b.target||b.srcElement)},x.prototype.ping=function(b,c){if(h){var e={eventName:b,path:a.location.pathname,sessionTime:Date.now()-f};v([e,c]);var i=this._createRequest(e),j=null;try{if(j=d.createCORSRequest("GET",i),!j)throw new Error;j.onreadystatechange=function(){2===this.readyState&&g--},j.send(),j=null,g++}catch(k){this._fallbackToImage(i)}}},x.prototype._fallbackToImage=function(a){var c=b.createElement("img");c.setAttribute("src",a)},x.prototype._createRequest=function(a){var b=v([{},this.defaultParams,a]);b.timestamp=Date.now();var c=JSON.stringify(b);return j.forEach(function(a){c=c.replace(a.characterRegex,a.temporal)}),c=encodeURIComponent(c),j.forEach(function(a){c=c.replace(a.temporalRegex,a.escaped)}),this.dradisEndpoint+"?d="+c};var y=new x;a.ping=function(a,b,c){b=b||{};var d,e;c&&c.nodeType&&(d=l(c),e=d.metadata,v([b,e]),b.domSelector=d.domSelector),y.ping(a,b)};var z=function(){var a=Date.now(),b=a+50;if(g>0)do a=Date.now();while(b>a)};w(a,"beforeunload",z),"complete"===b.readyState?w(b.body,"click",y.clickHandler,!0):w(a,"load",function(){w(b.body,"click",y.clickHandler,!0)}),y.ping("pageview",{res:a.screen.width+"x"+a.screen.height,color:a.screen.colorDepth+"-bit",title:b.title,chars:b.characterSet,language:c.language}),"undefined"!=typeof test&&(test.window={},test.Pinger=x,test.window.ping=a.ping,test.sessionStart=f,test.getCPA=k,test._getElementMetadata=o,test._getElementSelector=n,test.getElementData=l,test.getEventData=m,test.getPlayerInfo=p,test._getAccountInfo=q,test._addGAClientId=e,test._getShard=r,test._getSessionInfo=s,test._keysToDradisFields=t,test.generateGUID=u,test.mergeObjects=v,test.bind=w)}})},{}]},{},[2]);